@model YTE.BusinessLogic.Implementation.ArtReview.Model.IListUserArtReview
@inject YTE.Common.DTOS.CurrentUserDto CurrentUser
<tr>
    <td>
        <a href="/@Model.Route/Details/@Model.ArtObjectId">@Model.ArtName</a>
    </td>
    <td>
        @Model.Score
    </td>
    <td>
        @Model.ExperiencedAt.ToShortDateString()
    </td>
    <td>
        @Model.Date.ToShortDateString()
    </td>
    <td>
        <p class="shorten">@Model.Review</p>
    </td>
    <td>
        @if (CurrentUser.UserName == Model.UserName || CurrentUser.Roles.Contains("Admin"))
        {
            <a class="btn btn-outline-dark" href="/ArtReview/Edit/@Model.ArtObjectId/@Model.UserName">Edit</a>

            <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#ModalDeleteReview_@Model.ArtObjectId">
                Delete
            </button>

            <div class="modal fade" id="ModalDeleteReview_@Model.ArtObjectId" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Delete <i>@Model.UserName</i>'s review</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete <i>@Model.UserName</i>'s review?
                            <br />
                            <a href="/ArtReview/Delete/@Model.ArtObjectId/@Model.UserName" type="submit" class="btn btn-outline-danger">Yes</a>
                            <button type="button" class="btn btn-outline-primary" data-dismiss="modal">No</button>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        }
    </td>
</tr>